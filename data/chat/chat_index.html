<!-- source:body_main -->

<button id="minimizeBtn">‚àí</button>

<div id="menu">
    <h2>Vadim Chat</h2>
    <div id="versionText">ERROR</div>
    <button id="createBtn">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
    <button id="joinBtn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button>
    <button id="reconnectBtn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–µ–¥–∞–≤–Ω–µ–π</button>

    <div class="top-right-buttons">
        <button id="settingsBtn" class="top-button" data-tooltip="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
        <button id="pluginsTopBtn" class="top-button" data-tooltip="–ü–ª–∞–≥–∏–Ω—ã">üîå</button>
        <button id="serversTopBtn" class="top-button" data-tooltip="–ö–æ–º–Ω–∞—Ç—ã">üåê</button>
        <button id="errorsTopBtn" class="top-button" data-tooltip="–û—à–∏–±–∫–∏ –ø–ª–∞–≥–∏–Ω–æ–≤">üêû</button>
    </div>
    <!-- source:body_menu -->
</div>

<div id="errorsMenu" class="window-container" style="display:none;">
    <div class="window-content">
        <div class="window-header">
            <h2 class="window-title">üêû –õ–æ–≥ –æ—à–∏–±–æ–∫</h2>
            <button id="closeErrorsBtn" class="window-close-btn">‚úñ</button>
        </div>
        
        <div class="window-controls">
            <button id="clearErrorsBtn" class="window-control-btn">üóë –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
        </div>
        
        <div id="errorsList" class="window-list"></div>
    </div>
</div>

<div id="pluginsMenu" class="window-container" style="display:none;">
    <div class="window-content">
        <div class="window-header">
            <h2 class="window-title">üîå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞–º–∏</h2>
            <button id="closePluginsBtn" class="window-close-btn">‚úñ</button>
        </div>
        
        <div class="window-tabs">
            <button id="pluginsTabActive" class="window-tab active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
            <button id="pluginsTabAll" class="window-tab">–í—Å–µ –ø–ª–∞–≥–∏–Ω—ã</button>
            <button id="pluginsTabStore" class="window-tab">–ú–∞–≥–∞–∑–∏–Ω</button>
        </div>
        
        <div class="window-controls">
            <button id="refreshPluginsBtn" class="window-control-btn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>
        
        <div id="pluginsList" class="window-list"></div>
    </div>
</div>

<div id="serversMenu" class="window-container" style="display:none;">
    <div class="window-content">
        <div class="window-header">
            <h2 class="window-title">üåê –ö–æ–º–Ω–∞—Ç—ã</h2>
            <button id="closeServersBtn" class="window-close-btn">‚úñ</button>
        </div>
        
        <div class="window-controls">
            <button id="refreshServersBtn" class="window-control-btn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            <button id="clearServersBtn" class="window-control-btn">üóë –û—á–∏—Å—Ç–∏—Ç—å</button>
        </div>
        
        <div id="serversList" class="window-list"></div>
    </div>
</div>

<div id="settingsMenu" class="window-container" style="display:none;">
    <div class="window-content">
        <div class="window-header">
            <h2 class="window-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <button id="closeSettingsBtn" class="window-close-btn">‚úñ</button>
        </div>
        
        <div class="window-tabs">
            <button id="basicTab" class="window-tab active">–û—Å–Ω–æ–≤–Ω—ã–µ</button>
            <button id="advancedTab" class="window-tab">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ</button>
        </div>
        
        <div class="window-controls">
            <button id="applySettingsBtn" class="window-control-btn">üíæ –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>
        
        <div id="basicSettings" class="window-list"></div>
        <div id="advancedSettings" class="window-list" style="display:none;"></div>
    </div>
</div>

<div id="joinForm" style="display:none; flex-direction:column; align-items:center;">
    <!-- source:body_join -->
    <input type="text" id="joinKey" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á">
    <input type="text" id="joinName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
    <button id="connectBtn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button>
</div>

<div id="chat" style="display:none;">
    <!-- source:body_chat -->
    <div id="messages"></div>
    <div id="inputbar">
        <input type="text" id="msg" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
        <button onclick="acceptMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        <button id="toggleDebugBtn">üêû</button>
        <button id="leaveBtn" onclick="if(confirm('–í—ã–π—Ç–∏ –∏–∑ —á–∞—Ç–∞?')) exitChat();">–í—ã–π—Ç–∏</button>
    </div>

    <div id="debugPanel">
        <div id="debugHeader">
            <span>Debug Console</span>
            <button id="closeDebugBtn">‚úñ</button>
        </div>
        <div id="debugMessages"></div>
        <div id="debugInputBar">
            <input type="text" id="debugInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ">
            <button id="debugSendBtn">‚ñ∂</button>
        </div>
    </div>
</div>